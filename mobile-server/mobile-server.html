<!DOCTYPE html>
<html>

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Drum / Cymbals Server</title>
<script src="src/jquery.js"></script>
<script src="src/mobile.server.js"></script>
</head>

<body>

<p style="display: none;">
    <audio src="mp3/drum1.mp3" controls></audio>
    <audio src="mp3/drum1.mp3" controls></audio>
    <audio src="mp3/drum1.mp3" controls></audio>
    <audio src="mp3/drum1.mp3" controls></audio>
    <audio src="mp3/drum2.mp3" controls></audio>
    <audio src="mp3/drum2.mp3" controls></audio>
    <audio src="mp3/drum2.mp3" controls></audio>
    <audio src="mp3/drum2.mp3" controls></audio>
    <audio src="mp3/drum1.mp3" controls></audio>
    <audio src="mp3/drum1.mp3" controls></audio>
    <audio src="mp3/drum1.mp3" controls></audio>
    <audio src="mp3/drum1.mp3" controls></audio>
</p>

<script>
var audioList = $('audio');
var status = 0;
var rate = 300;

function start() {
    rate = ($('input').val() - 0) || 300;
    status = 1;
    setTimeout(play8, 0 * rate);
    setTimeout(play9, 2 * rate);
    setTimeout(play10, 4 * rate);
    setTimeout(play11, 6 * rate);
    setTimeout(loop, 8 * rate);
}
function end() {
    status = 0;
}
function loop() {
    setTimeout(play4, 0 * rate);
    setTimeout(play5, 1.5 * rate);
    setTimeout(play0, 2 * rate);
    setTimeout(play6, 3 * rate);
    setTimeout(play7, 5 * rate);
    setTimeout(play1, 6 * rate);
    setTimeout(function () {
        if (status == 1) {
            loop();
        }
    }, 8 * rate);
}
function _play(offset) {
    audioList[offset].play();
}
function play0() {_play(0);}
function play1() {_play(1);}
function play2() {_play(2);}
function play3() {_play(3);}
function play4() {_play(4);}
function play5() {_play(5);}
function play6() {_play(6);}
function play7() {_play(7);}
function play8() {_play(8);}
function play9() {_play(9);}
function play10() {_play(10);}
function play11() {_play(11);}
</script>

</body>

</html>
